<!-- Heading -->
<div class="heading">
  <h4>
    <mat-icon>event_note</mat-icon>
    Leave
  </h4>
</div>

<div class="commondiv">
  <!-- Left Panel -->
  <div class="divleft">
    <div class="dashboard-container">
      <div class="left-panel">
        <div class="header">
          <h3>
            <mat-icon>date_range</mat-icon>
            Leave Summary
          </h3>
          
          <!-- Date Range Picker -->
          <div class="calendar-container">
            <mat-form-field appearance="outline">
              <mat-label>Choose Date Range</mat-label>
              <mat-date-range-input [rangePicker]="picker">
                <input matStartDate placeholder="Start date" [(ngModel)]="startDate" />
                <input matEndDate placeholder="End date" [(ngModel)]="endDate" />
              </mat-date-range-input>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-date-range-picker #picker></mat-date-range-picker>
            </mat-form-field>
          </div>

          <!-- Leave Types in Single Row -->
          <div class="leave-types-row">
            <div class="leave-type" *ngFor="let leave of leaves">
              <h4>{{ leave.name }}</h4>
              <div class="circle-chart">
                <svg viewBox="0 0 36 36" class="circular-chart">
                  <path
                    class="circle-bg"
                    d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                  />
                  <path
                    class="circle"
                    [attr.stroke-dasharray]="leave.utilised + ', 100'"
                    d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                  />
                </svg>
                <span>{{ leave.utilised }}/{{ leave.total }}</span>
              </div>
              <ul>
                <li>Total: {{ leave.total }}</li>
                <li>Utilised: {{ leave.utilised }}</li>
                <li>Balance: {{ leave.balance }}</li>
                <li>Pending: {{ leave.pending }}</li>
                <li>Encashment: {{ leave.encashment }}</li>
                <li>Adjustment: {{ leave.adjustment }}</li>
                <li>Net: {{ leave.net }}</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Center Panel (Calendar) -->
  <div class="divcenter">
    <full-calendar [options]="calendarOptions"></full-calendar>
  </div>
   
    <!-- Right Panel -->
    
  
    <div class="divright">
      <div class="right-panel">
        <div class="attendance-summary">
          <h3>
            <mat-icon>bar_chart</mat-icon>
            Absence In Current Month
          </h3>
  
          <!-- Attendance Container -->
          <div class="attendance-container">
            <!-- First Row: Present & Absent -->
            <div class="attendance-row">
              <div class="attendance-box present">
                <div class="attendance-details">
                  <mat-icon class="status-icon">check_circle</mat-icon>
                  <p class="status-count">Present</p>
                  <p class="status-number">{{ attendanceSummary.present }}</p>
                </div>
              </div>
              <div class="attendance-box absent">
                <div class="attendance-details">
                  <mat-icon class="status-icon">cancel</mat-icon>
                  <p class="status-count">Absent</p>
                  <p class="status-number">{{ attendanceSummary.absent }}</p>
                </div>
              </div>
            </div>
  
            <!-- Second Row: Leave & LWP -->
            <div class="attendance-row">
              <div class="attendance-box leave">
                <div class="attendance-details">
                  <mat-icon class="status-icon">event_busy</mat-icon>
                  <p class="status-count">Leave</p>
                  <p class="status-number">{{ attendanceSummary.leave }}</p>
                </div>
              </div>
  
              <div class="attendance-box lwp">
                <div class="attendance-details">
                  <mat-icon class="status-icon">schedule</mat-icon>
                  <p class="status-count">LWP</p>
                  <p class="status-number">{{ attendanceSummary.lwp }}</p>
                </div>
              </div>
            </div>
  
            <!-- Third Row: Leave Submit & Attendance Submit -->
            <div class="attendance-row">
             
            </div>
  
           
  
            <!-- Fifth Row: Reminders & Half Day -->
            <div class="attendance-row">
             
            </div>
  
            <!-- Sixth Row: Blocked -->
            <div class="attendance-row">
              
            </div>
          </div>
        </div>
        <div class="upcoming-holidays">
          <h4>
            <span class="holiday-title">
              <mat-icon>event</mat-icon>
              Upcoming Holidays
            </span>
            <a routerLink="/holiday" class="view-holidays-link">
              <mat-icon>arrow_forward</mat-icon>
              View Holidays
            </a>
          </h4>
        </div>
      </div>
  
    </div>
    </div>
        
  <!-- Attendance Summary -->
  <div class="attendance-sum">
    <div class="attendance-container">
     
  
      <!-- Attendance Summary Cards -->
      <div class="summary-cards">
        <div
          class="card"
          *ngFor="let card of cards"
          [ngClass]="card.class"
          (click)="handleCardClick(card)">
          <span>{{ card.label }}</span>
          <span class="count">{{ card.count }}</span>
        </div>
      </div>
     
      
  
      
    </div>
  </div>

  
