<!-- Top Bar -->
<div class="company-bar">
  <span class="company-name">Intellisys IT Solutions Pvt. Ltd</span>
  <div class="right-content">
    <div class="employee-details">
      <span class="employee-name">{{ username || 'Guest' }}</span>
      <div class="employee-info">
        <span><strong>Employee </strong><strong>Code:</strong> {{ employeeCode || 'N/A' }}</span>
      </div>
    </div>

    <div class="notification-container">
      <mat-icon
        class="notification-icon"
        (click)="toggleNotifications()">notifications</mat-icon>
      <span
        *ngIf="unreadNotificationsCount > 0"
        class="notification-badge"
        [class.badge-large]="unreadNotificationsCount > 9"
      >
        {{ unreadNotificationsCount > 99 ? '99+' : unreadNotificationsCount }}
      </span>
      
      <!-- Notification popup -->
      <div *ngIf="showNotifications" class="notification-popup">
        <div class="notification-header">
          <h3>Notifications</h3>
          <button class="close-btn" (click)="showNotifications = false">
            <mat-icon>close</mat-icon>
          </button>
        </div>
        <div class="notification-list">
          <div
            *ngFor="let notification of notifications"
            class="notification-item"
            [class.unread]="!notification.isRead"
          >
            <div class="notification-content">
              <strong>{{ notification.title }}</strong>
              <p>{{ notification.message }}</p>
              <small>
                {{ notification.createdAt | date:'shortTime' }} •
                {{ notification.createdAt | date:'mediumDate' }}
              </small>
            </div>
          </div>
          <div *ngIf="notifications.length === 0" class="empty-notifications">
            No new notifications
          </div>
        </div>
      </div>
    </div>
    <img
    [src]="emp.imageUrl ? emp.imageUrl : 'assets/employee (1).png'"
    (error)="emp.imageUrl = null"
    alt="{{ employeeName || 'Employee' }}'s photo"
    class="employee-image"
  />
  
   
     <button class="logout-btn" (click)="logout()">
    <i class="fas fa-sign-out-alt"></i> Logout
  </button>
  </div>
</div>

<!-- Welcome Section -->
<div class="right-side">
  <div class="welcome-section">
    <div class="makeflex">
      <div class="employee-info">
        <img
          [src]="emp.imageUrl ? emp.imageUrl : 'assets/employee (1).png'"
          alt="{{ emp.name || 'Employee' }}'s photo"
          class="employee-image"
        />
        <div class="welcome-text">
          <h1>Welcome, {{ username || 'Shraddha' }}</h1>
          <div class="welcome-message">
            <!-- <p *ngIf="welcomeMessage">{{ welcomeMessage }}</p> -->
            <p>Hope you have a great day at work!</p>
          </div>
        </div>
      </div>
    </div>
    <div class="officelogo">
      <img src="assets/logo (2).png" alt="Office Logo" />
    </div>
  </div>
</div>

<!-- Main Content Area -->
<div class="content-section">

  <!-- Current Time & Date -->
  <div class="content1-box">
    <h4>Current Time & Date</h4>
    
    <!-- Animated Digital Clock (matching admin dashboard) -->
    <div class="digital-clock">
      <div class="clock-digits">
        <!-- Hours -->
        <div class="digit-container">
          <div class="digit">{{ timeDigits.hours[0] }}</div>
        </div>
        <div class="digit-container">
          <div class="digit">{{ timeDigits.hours[1] }}</div>
        </div>
        
        <!-- Separator -->
        <div class="separator">:</div>
        
        <!-- Minutes -->
        <div class="digit-container">
          <div class="digit">{{ timeDigits.minutes[0] }}</div>
        </div>
        <div class="digit-container">
          <div class="digit">{{ timeDigits.minutes[1] }}</div>
        </div>
        
        <!-- Separator -->
        <div class="separator">:</div>
        
        <!-- Seconds -->
        <div class="digit-container">
          <div class="digit pulse">{{ timeDigits.seconds[0] }}</div>
        </div>
        <div class="digit-container">
          <div class="digit pulse">{{ timeDigits.seconds[1] }}</div>
        </div>
      </div>
    </div>
    
    <p class="date-display">{{ currentDate || 'Loading date...' }}</p>
  </div>

  <!-- News Center -->
  <div class="content-box">
    <div class="section-header">
      <h4>News Center</h4>
    </div>
    <p *ngIf="newsItems.length === 0">No records to display</p>
    <ul *ngIf="newsItems.length > 0">
      <li *ngFor="let news of newsItems">{{ news }}</li>
    </ul>
  </div>

  

<!-- Upcoming Birthdays Section -->
<div class="content-remind">
  <div class="section-header1">
    <h4>Upcoming Reminders</h4>
  </div>

  <p *ngIf="reminders.length === 0">No reminders</p>

  <div *ngFor="let reminder of reminders" class="reminder-row">
    <div class="reminder-details">
      <h5>{{ reminder.title }}</h5>
      <p><strong>Date:</strong> {{ reminder.date | date:'mediumDate' }}</p>
      <p><strong>Type:</strong> {{ reminder.type }}</p>
      <p *ngIf="reminder.notes"><strong>Notes:</strong> {{ reminder.notes }}</p>
    </div>
  </div>
</div>

  <!-- Feed -->
  <div class="content-feed">
    <div class="section-header">
      <h4>Feed</h4>
    </div>
    <p *ngIf="feedItems.length === 0">No new updates</p>
    <ul *ngIf="feedItems.length > 0">
      <li *ngFor="let feed of feedItems">
        {{ feed.text }} — <small>{{ feed.date | date:'medium' }}</small>
      </li>
    </ul>
  </div>


  <!-- Employee Documents -->
  <div class="content-doc">
    <div class="section-header">
      <h4>Employee Documents</h4>
    </div>

    <p *ngIf="empDocuments.length === 0">No documents found</p>

    <ul *ngIf="empDocuments.length > 0">
      <li *ngFor="let doc of empDocuments">{{ doc.name }}</li>
    </ul>
  </div>



  <!-- To Do List -->
  <div class="content-box">
    <div class="section-header">
      <h4>To Do List</h4>
    </div>
    <p *ngIf="todoItems.length === 0">No tasks</p>
    <ul *ngIf="todoItems.length > 0">
      <li *ngFor="let task of todoItems">
        <span [class.completed]="task.completed">{{ task.task }}</span>
      </li>
    </ul>
  </div>

  <!-- New Joinee -->
  <div class="content-joinee">
    <div class="section-header">
      <h4>New Joinee</h4>
    </div>

    <p *ngIf="newJoinees.length === 0">No new joinees</p>

    <ul *ngIf="newJoinees.length > 0">
      <li *ngFor="let joinee of newJoinees" class="joinee-item">
        <img [src]="joinee.image || 'assets/employee (1).png'" alt="{{ joinee.name }}" class="joinee-image" />
        <span>{{ joinee.name }}</span>
      </li>
    </ul>
  </div>



